<!DOCTYPE html>
<html>

  <head>
  <script type="text/javascript">
    var host = "networktips.github.io";
    if ((host == window.location.host) && (window.location.protocol != "https:")) {
      window.location.protocol = "https";
    }
  </script>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="icon" type="image/png" href="/assets/img/favicon.png">

  <title>Protocol Stack ◦ Network Tips</title>
  <meta name="description" content="The protocol stack is an implementation of a computer networking protocol suite. The suite is the definition of the protocols, and the stack is the software ...">

  <link rel="stylesheet" href="/assets/css/main.css">
  <link rel="canonical" href="https://networktips.github.io/articles/protocol-stack/">
  <link rel="alternate" type="application/rss+xml" title="Network Tips" href="https://networktips.github.io/feed.xml">
</head>


  <body>

    <div class="sidebar">
  <div class="container sidebar-sticky clearfix">
    <div class="sidebar-about">
      <h1 class="site-title">Network Tips</h1>
      <p class="lead">Tips and tutorials about networking classes of ESTG-IPVC with proper syntax highlighted.
</p>
    </div>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item">
        <a href="/">Home</a>
      </li>

      

      
      
        
      
        
          
            <li class="sidebar-nav-item">
              <a href="/about/">About</a>
            </li>
          
        
      
        
      
        
          
        
      
        
          
            <li class="sidebar-nav-item">
              <a href="/search/">Search</a>
            </li>
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          
        
      
    </ul>

    <p>&copy; 2016. All rights reserved.</p>
  </div>
</div>


    <div class="wrapper">
      <div class="content container">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Protocol Stack</h1>
    <p class="post-meta"><time datetime="2016-01-15T21:10:01+00:00" itemprop="datePublished">Jan 15, 2016</time></p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>The protocol stack is an implementation of a computer networking protocol suite. The suite is the definition of the protocols, and the stack is the software implementation of them. In practical, protocol stacks are divided into three major sections: media, transport, and applications. Lets see an example protocol stack and the corresponding layers:</p>

<table class="table-center">
  <thead>
    <tr>
      <th>Protocol</th>
      <th>Layer</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>HTTP</td>
      <td>Application</td>
    </tr>
    <tr>
      <td>TCP</td>
      <td>Transport</td>
    </tr>
    <tr>
      <td>IP</td>
      <td>Network</td>
    </tr>
    <tr>
      <td>Ethernet</td>
      <td>Data Link</td>
    </tr>
    <tr>
      <td>IEEE 802.3u</td>
      <td>Physical</td>
    </tr>
  </tbody>
</table>

<h3 id="ping">Ping</h3>

<p>To check if two computers can communicate with each other, you can execute one simple command on the shell: <code class="highlighter-rouge">$ ping ip.from.computer.two</code> . It outputs ping requests and at the end print the result of the requests with how much have sent and received, resulting on the percentage of packets received.</p>

<p class="center"><img src="/assets/img/ping-command.png" alt="ping command" /></p>

<h3 id="wireshark">Wireshark</h3>

<p>There is a lot of software available on the web with the purpose of analyzing packets on the network. <a href="https://www.wireshark.org">Wireshark</a> is a free open-source packet analyzer, originally called <strong>Ethereal</strong> that is used for network troubleshooting, analysis, software and communications protocol development, and education. Its cross-platform and uses <a href="https://en.wikipedia.org/wiki/Pcap">pcap</a> to capture packets.</p>

<p>Below you can see the <a href="https://en.wikipedia.org/wiki/Internet_Control_Message_Protocol">ICMP</a> <a href="https://en.wikipedia.org/wiki/Network_packet">packets</a> transported between the hosts on Wireshark.</p>

<p class="center"><img src="/assets/img/ping-wireshark.png" alt="ping wireshark" /></p>

<p>With a web browser (<a href="https://www.google.com/chrome/browser/desktop/index.html">Chrome</a>, <a href="https://www.mozilla.org/en-US/firefox/new/">Firefox</a>, <a href="http://www.opera.com/">Opera</a>, <a href="http://www.apple.com/safari/">Safari</a>, etc) you can access to a tone of web pages available on the internet. The communication between the client (web browser) and the server (<a href="https://httpd.apache.org/">Apache</a>, <a href="http://nginx.org/">Nginx</a>, etc) is done by the <a href="https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol">HTTP</a> (Hypertext Transfer Protocol) protocol. The client send a <a href="https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol">HTTP</a> request to the server and wait for a <a href="https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol">HTTP</a> reply from the server too.</p>

<p>If the destination server isn’t listening for <a href="https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol">HTTP</a> requests then all the requests will be dropped by server, the client wont receive any reply and will show on the web browser that the server didn’t reply. Let’s see <a href="https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol">HTTP</a> <a href="https://en.wikipedia.org/wiki/Network_packet">packets</a> from a communication between a client and this blog in Wireshark.</p>

<p class="center"><img src="/assets/img/http-wireshark.png" alt="http wireshark" /></p>

<h3 id="traceroute">Traceroute</h3>

<p>There are some <a href="https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol">HTTP</a> status codes that we can identify for example status code 200 - means that request has succeeded, status code 304 - means the file we are requesting for has not changed since last time, so if is in cache than the browser will show the file right away and is not necessary to download the file again.</p>

<p>When a computer send a <a href="https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol">HTTP</a> request for example to www.apple.com, the request goes in a route (path) until it arrive the destination host (www.apple.com). This route (path)  can be different each time the source host communicate with destination host.</p>

<p>So to see this route (path), you can use the diagnostic tool called <code class="highlighter-rouge">traceroute</code> on Linux or <code class="highlighter-rouge">tracert</code> on Windows and it will something like the screenshot below.</p>

<p class="center"><img src="/assets/img/traceroute-linux.png" alt="traceroute linux" /></p>

<h3 id="netstat">Netstat</h3>

<p>When a computer has servers installed like <a href="https://httpd.apache.org/">Apache</a>, <a href="http://www.bind9.net/">Bind</a>, <a href="https://en.wikipedia.org/wiki/Domain_Name_System">DNS</a> Server, etc, there is a number of ports of the host that will be open and listening from incoming connections from clients.</p>

<p>So on the image below you can see all the ports of all the servers running on the machine by executing the following command on the console <code class="highlighter-rouge">$ netstat -tnl</code>, this command is more specific to Operative Systems based on Linux. For Windows OS you can execute this command <code class="highlighter-rouge">netstat -a</code>.</p>

<p class="center"><img src="/assets/img/netstat-linux.png" alt="netstat linux" /></p>

<p>From the image you can see a lot of ports listening on the machine like 110 that is the default port for <a href="https://en.wikipedia.org/wiki/Internet_Message_Access_Protocol">IMAP</a> server, 25 that is the port for <a href="https://en.wikipedia.org/wiki/Simple_Mail_Transfer_Protocol">SMTP</a> server, 21 for <a href="https://en.wikipedia.org/wiki/File_Transfer_Protocol">FTP</a> server and other. You can do a search on Google to find the server behind each port and just to be clear all ports are the default for each server that is running.</p>

<h3 id="interfaces-configurations">Interfaces configurations</h3>

<p>All computers that are connected to a network need to have at least two parameters configured on the network interface. These parameters are <a href="https://en.wikipedia.org/wiki/IP_address">IP Address</a> and <a href="https://en.wikipedia.org/wiki/Subnetwork">Subnet Mask</a>, the IP Address is pretty most self explanatory, its an address to computer like your home address and its unique on the network.</p>

<p>The Subnet Mask tells computer to which network belong. To show the configurations of the network interfaces on console, just execute <code class="highlighter-rouge">$ ifconfig</code> on Linux and <code class="highlighter-rouge">$ ipconfig</code> on Windows.</p>

<p class="center"><img src="/assets/img/ifconfig-linux.png" alt="ifconfig linux" /></p>

<p class="center"><img src="/assets/img/ipconfig-windows-new.png" alt="ipconfig windows" /></p>

<h3 id="netsh">Netsh</h3>

<p>Netsh, or network shell, is a command-line utility included in <a href="https://en.wikipedia.org/wiki/Microsoft_Windows">Microsoft’s Windows</a> NT line of operating systems beginning with Windows 2000. It allows local or remote configuration of network devices such as the interface.</p>

<p>A common use of netsh is to reset the <a href="https://en.wikipedia.org/wiki/Internet_protocol_suite">TCP/IP</a> stack to default. Netsh, among many other things, also allows the user to change / show the IP address on their machine. For example if you run the command <code class="highlighter-rouge">netsh interface ip show config</code> will show the interfaces configuration like the image below.</p>

<p class="center"><img src="/assets/img/netsh-windows-new.png" alt="netsh windows" /></p>

<h3 id="route">Route</h3>

<p>Every host connected to a network has a <a href="https://en.wikipedia.org/wiki/Routing_table">IP routing table</a>. To show / manipulate the IP routing table you just need to user the <code class="highlighter-rouge">route</code> command on the console. In Linux you just execute <code class="highlighter-rouge">$ route -n</code> and it prints out the host routing table like below.</p>

<p class="center"><img src="/assets/img/route-linux.png" alt="route linux" /></p>

<p>In Windows is a little bit different but same result, just execute <code class="highlighter-rouge">route print -4</code> on your <a href="https://en.wikipedia.org/wiki/Command-line_interface">Command Prompt</a> and will print out something like the image below.</p>

<p class="center"><img src="/assets/img/route-windows-new.png" alt="route windows" /></p>

  </div>

  <hr>
<div class="social-content">
  <h3 class="social-title">Share this:</h3>
  <div class="social-wrapper">
    <a class="facebook" target="_blank" href="http://www.facebook.com/share.php?u=https://networktips.github.io/articles/protocol-stack&title=Protocol Stack"><i class="ion ion-social-facebook"></i>Share</a>
    <a class="twitter" target="_blank" href="https://twitter.com/intent/tweet?text=Protocol Stack: https://networktips.github.io/articles/protocol-stack"><i class="ion ion-social-twitter"></i>Tweet</a>
    <a class="googleplus" target="_blank" href="https://plus.google.com/share?url=https://networktips.github.io/articles/protocol-stack"><i class="ion ion-social-googleplus"></i>Share</a>
  </div>
</div>
<hr>


  <div class="post-navigation">
    
    
      <a class="next" href="/articles/web-server-linux/">Setup a Apache server - Linux &raquo;</a>
    
  </div>

  <div class="comments-content">
	<div class="comments-wrapper">
		<div id="disqus_thread"></div>
		<script>
			var disqus_config = function () {
				this.page.url = "https://networktips.github.io/articles/protocol-stack";
				this.page.identifier = "/articles/protocol-stack";
			};

			(function() { // DON'T EDIT BELOW THIS LINE
				var d = document, s = d.createElement('script');

				s.src = '//ruisaraiva19.disqus.com/embed.js';

				s.setAttribute('data-timestamp', +new Date());
				(d.head || d.body).appendChild(s);
			})();
		</script>
		<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
	</div>
</div>


</article>

      </div>
    </div>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.2.3/jquery.min.js" defer></script>
    <script type="text/javascript" src="/assets/js/main.min.js" defer></script>
    

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-78120059-1', 'auto');
      ga('send', 'pageview');
    </script>

  </body>

</html>
